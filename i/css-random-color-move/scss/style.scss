@import "compass/css3";
@import url(https://fonts.googleapis.com/css?family=Roboto:300,400,500);
html,
body{
  height: 100%;
}
body {
  position: relative;
  margin: 0;
  font-family: 'Roboto', sans-serif;
}

$row_count: 10;
$item_per_row: 20;
$anim_time: 0.01;

* {
    @include box-sizing(border-box);
    &:after,
    &:before {
        @include box-sizing(border-box);
    }
}

.main {
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  z-index: 1;
  width: 100%;
  height: 100%;
  overflow: hidden;

  .row {
    position: absolute;
    width: 100%;
    left: 0;
    top: 0;
    font-size: 0;
    height: #{100%/$row_count};

    @for $row from 1 through $row_count{
      &:nth-child(#{$row}) {
        top: #{($row - 1)*100%/$row_count};

        .item {
           @for $col from 1 through $item_per_row {
             &.row#{$row}-col#{$col} {
              opacity: (random(75) + 15)*0.01;
              background-color: rgb(random(255), random(255), random(255));
              animation: move-#{$row*$col} 20s infinite;
              @include transform(translate(0, 0) scale((random(75) + 5)*0.01));
            }
          }
        }
      }
    }
  }
}

.main {
  overflow: hidden;
}
.item {
  display: inline-block;
  width: #{100%/$item_per_row};
  height: 100%;
  border: 1px solid #ccc;
  border-radius: 2px;
}

.credits {
  position: fixed;
  left: 0;
  bottom: 0;
  padding: 2px 15px;
  background-color: rgba(0,0,0,0.6);
  width: 100%;
  z-index: 111;
  a {
    color: #fff;
    font-size: 11px;
    text-decoration: none;
  }
}

@for $row from 1 through $row_count{
  @for $col from 1 through $item_per_row {
    @keyframes move-#{$row*$col}{
      70% {
        @include transform(translate( percentage((random(1000) - 500) / 100), percentage((random(1000)) - 500)/ 100) scale((random(75) + 5)*0.01));
      }
    }
  }
}
